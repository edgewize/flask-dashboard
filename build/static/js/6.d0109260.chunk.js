(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[6],{495:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var r=function(e){return""+e}},498:function(e,t,a){"use strict";var r=a(151),n=a(152),i=a(154),o=a(153),c=a(2),s=a.n(c),l=(a(499),function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"render",value:function(){return this.props.isLoading?s.a.createElement("div",null,"Loading..."):s.a.createElement(s.a.Fragment,null,this.props.children)}}]),a}(c.Component));t.a=l},507:function(e,t,a){"use strict";var r=a(151),n=a(152),i=a(154),o=a(153),c=a(2),s=a.n(c),l=a(521),u=a(538),p=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"render",value:function(){var e=this.props.data.timeSeries.discharge,t=[],a=[];for(var r in e){var n=e[r];a.push(n),t.push(r)}var i={labels:t,datasets:[{label:"Cubic Feet Per Second",backgroundColor:"transparent",borderColor:"blue",data:a}]},o={tooltips:{enabled:!1,custom:u.CustomTooltips},maintainAspectRatio:!1,elements:{line:{borderWidth:3},point:{radius:4,hitRadius:10,hoverRadius:4}}};return s.a.createElement("div",{className:"chart-wrapper",style:{height:this.props.height+"px"}},s.a.createElement(l.a,{data:i,options:o,height:this.props.height}))}}]),a}(c.Component);t.a=p},518:function(e,t,a){"use strict";function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a.d(t,"a",(function(){return i}))},655:function(e,t,a){"use strict";a.r(t);var r=a(518),n=a(151),i=a(152),o=a(156),c=a(154),s=a(153),l=a(2),u=a.n(l),p=a(653),b=a(654),d=a(651),h=a(652),f=a(507),m=(a(499),a(495)),y=a(498);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(s){n=!0,i=s}finally{try{r||null==c.return||c.return()}finally{if(n)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"===typeof e)return v(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var O=a(18),j=a(49),C=a(61),k=a.n(C),E=a(489),w=a.n(E),D=a(490),P={tag:D.e,"aria-label":k.a.string,className:k.a.string,cssModule:k.a.object,role:k.a.string,size:k.a.string,vertical:k.a.bool},q=function(e){var t=e.className,a=e.cssModule,r=e.size,n=e.vertical,i=e.tag,o=Object(j.a)(e,["className","cssModule","size","vertical","tag"]),c=Object(D.c)(w()(t,!!r&&"btn-group-"+r,n?"btn-group-vertical":"btn-group"),a);return u.a.createElement(i,Object(O.a)({},o,{className:c}))};q.propTypes=P,q.defaultProps={tag:"div",role:"group"};var S=q,_=a(506),N=a(41),F={active:k.a.bool,"aria-label":k.a.string,block:k.a.bool,color:k.a.string,disabled:k.a.bool,outline:k.a.bool,tag:D.e,innerRef:k.a.oneOfType([k.a.object,k.a.func,k.a.string]),onClick:k.a.func,size:k.a.string,children:k.a.node,className:k.a.string,cssModule:k.a.object,close:k.a.bool},M=function(e){function t(t){var a;return(a=e.call(this,t)||this).onClick=a.onClick.bind(Object(_.a)(a)),a}Object(N.a)(t,e);var a=t.prototype;return a.onClick=function(e){this.props.disabled?e.preventDefault():this.props.onClick&&this.props.onClick(e)},a.render=function(){var e=this.props,t=e.active,a=e["aria-label"],r=e.block,n=e.className,i=e.close,o=e.cssModule,c=e.color,s=e.outline,l=e.size,p=e.tag,b=e.innerRef,d=Object(j.a)(e,["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"]);i&&"undefined"===typeof d.children&&(d.children=u.a.createElement("span",{"aria-hidden":!0},"\xd7"));var h="btn"+(s?"-outline":"")+"-"+c,f=Object(D.c)(w()(n,{close:i},i||"btn",i||h,!!l&&"btn-"+l,!!r&&"btn-block",{active:t,disabled:this.props.disabled}),o);d.href&&"button"===p&&(p="a");var m=i?"Close":null;return u.a.createElement(p,Object(O.a)({type:"button"===p&&d.onClick?"button":void 0},d,{className:f,ref:b,onClick:this.onClick,"aria-label":a||m}))},t}(u.a.Component);M.propTypes=F,M.defaultProps={color:"secondary",tag:"button"};var A=M,L=function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"formatSettingKey",value:function(e){var t=e.split("_").join(" ");return t.charAt(0).toUpperCase()+t.substring(1)}},{key:"render",value:function(){var e=this;return u.a.createElement(u.a.Fragment,null,Object.entries({period:{last_week:"P7D",last_month:"P30D",last_quarter:"P90D",last_year:"P365D",last_five_years:"P1825D",last_ten_years:"P3650D"},freq:{day:"D",week:"W",month:"M",year:"Y"}}).map((function(t){var a=g(t,2),r=a[0],n=a[1];return u.a.createElement(u.a.Fragment,null,u.a.createElement("label",{className:"mt-4"},e.formatSettingKey(r)),u.a.createElement(S,null,Object.entries(n).map((function(t){var a=g(t,2),n=a[0],i=a[1];return u.a.createElement(A,{key:n,color:e.props.query[r]===i?"info":"secondary",value:i,onClick:function(t){return e.props.handleChange(t.currentTarget.value,r)}},e.formatSettingKey(n))}))))})))}}]),a}(l.Component),T=function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).handleChange=function(e,t){var a=Object(r.a)({},i.state.query);a[t]=e,i.setState({query:a})},i.handleDateChange=function(e,t){i.setState({query:Object(r.a)({},i.state.query,{start_date:e})})},i.state={isLoading:!0,query:{start_date:new Date("2019-01-02"),compare_years:"2019",period:"P30D",freq:"D"},data:null},i.handleChange=i.handleChange.bind(Object(o.a)(i)),i}return Object(i.a)(a,[{key:"getFlowData",value:function(){var e=this,t=this.props.match.params.site_id,a=Object(m.a)("/api/flow/"+t)+"?period="+this.state.query.period+"&freq="+this.state.query.freq+"&compare_years="+this.state.query.compare_years;fetch(a).then((function(e){return e.json()})).then((function(t){e.setState({isLoading:!1,data:t})}))}},{key:"componentDidMount",value:function(){this.getFlowData()}},{key:"componentDidUpdate",value:function(e,t){var a=e.match.params.site_id!==this.props.match.params.site_id,r=t.query!==this.state.query;(a||r)&&(this.setState({isLoading:!0}),this.getFlowData())}},{key:"render",value:function(){var e=null;try{var t=this.state.data.meta;e=t[Object.keys(t)[0]].siteName}catch(TypeError){e=null}return u.a.createElement(u.a.Fragment,null,u.a.createElement(p.a,null,u.a.createElement(b.a,{md:"12"},u.a.createElement(d.a,null,u.a.createElement(h.a,null,e&&u.a.createElement("h1",{className:"mb-3"},e),u.a.createElement(L,{handleChange:this.handleChange,query:this.state.query})))),u.a.createElement(b.a,{md:"10"},u.a.createElement(d.a,null,u.a.createElement(h.a,null,u.a.createElement("h2",null,"Cubic feet per second (CFS)"),u.a.createElement(y.a,{isLoading:this.state.isLoading},!this.state.isLoading&&u.a.createElement(f.a,{data:this.state.data,height:300})))))))}}]),a}(l.Component);t.default=T}}]);
//# sourceMappingURL=6.d0109260.chunk.js.map