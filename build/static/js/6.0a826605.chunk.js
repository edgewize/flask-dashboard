(this["webpackJsonp@edgewize/flask-dashboard"]=this["webpackJsonp@edgewize/flask-dashboard"]||[]).push([[6],{495:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return n}));var r=function(e){return""+e};function n(e,t){var a;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e))return 3===(a=e.substring(1).split("")).length&&(a=[a[0],a[0],a[1],a[1],a[2],a[2]]),"rgba("+[(a="0x"+a.join(""))>>16&255,a>>8&255,255&a].join(",")+", "+t+")";throw new Error("Bad Hex")}},499:function(e,t,a){"use strict";var r=a(151),n=a(152),i=a(154),c=a(153),s=a(2),o=a.n(s),l=(a(500),function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"render",value:function(){return this.props.isLoading?o.a.createElement("div",null,"Loading..."):o.a.createElement(o.a.Fragment,null,this.props.children)}}]),a}(s.Component));t.a=l},508:function(e,t,a){"use strict";var r=a(151),n=a(152),i=a(154),c=a(153),s=a(2),o=a.n(s),l=a(523),u=a(540),p=a(495),d=a(518),h=Object(p.b)(d.cyan,.8),f=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"render",value:function(){var e=this.props.data.timeSeries.discharge,t=[],a=[];for(var r in e){var n=e[r];a.push(n),t.push(r)}var i={labels:t,datasets:[{label:"Cubic Feet Per Second",backgroundColor:"transparent",borderColor:h,data:a}]},c={tooltips:{enabled:!1,custom:u.CustomTooltips},legend:!1,maintainAspectRatio:!1,elements:{line:{borderWidth:3},point:{radius:4,hitRadius:10,hoverRadius:4}}};return o.a.createElement("div",{className:"chart-wrapper",style:{height:this.props.height+"px"}},o.a.createElement(l.a,{data:i,options:c,height:this.props.height}))}}]),a}(s.Component);t.a=f},518:function(e){e.exports=JSON.parse('{"blue":"#375a7f","indigo":"#6610f2","purple":"#6f42c1","pink":"#e83e8c","red":"#E74C3C","orange":"#fd7e14","yellow":"#F39C12","green":"#00bc8c","teal":"#20c997","cyan":"#3498DB"}')},520:function(e,t,a){"use strict";function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a.d(t,"a",(function(){return i}))},659:function(e,t,a){"use strict";a.r(t);var r=a(520),n=a(151),i=a(152),c=a(156),s=a(154),o=a(153),l=a(2),u=a.n(l),p=a(657),d=a(658),h=a(653),f=a(656),m=a(654),b=a(18),y=a(49),g=a(61),v=a.n(g),j=a(490),O=a.n(j),E=a(491),w={tag:E.e,className:v.a.string,cssModule:v.a.object},C=function(e){var t=e.className,a=e.cssModule,r=e.tag,n=Object(y.a)(e,["className","cssModule","tag"]),i=Object(E.c)(O()(t,"card-title"),a);return u.a.createElement(r,Object(b.a)({},n,{className:i}))};C.propTypes=w,C.defaultProps={tag:"div"};var D=C,k=a(508),P=(a(500),a(495)),q=a(499);function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,i=void 0;try{for(var c,s=e[Symbol.iterator]();!(r=(c=s.next()).done)&&(a.push(c.value),!t||a.length!==t);r=!0);}catch(o){n=!0,i=o}finally{try{r||null==s.return||s.return()}finally{if(n)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"===typeof e)return S(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var N={tag:E.e,"aria-label":v.a.string,className:v.a.string,cssModule:v.a.object,role:v.a.string,size:v.a.string,vertical:v.a.bool},F=function(e){var t=e.className,a=e.cssModule,r=e.size,n=e.vertical,i=e.tag,c=Object(y.a)(e,["className","cssModule","size","vertical","tag"]),s=Object(E.c)(O()(t,!!r&&"btn-group-"+r,n?"btn-group-vertical":"btn-group"),a);return u.a.createElement(i,Object(b.a)({},c,{className:s}))};F.propTypes=N,F.defaultProps={tag:"div",role:"group"};var A=F,M=a(655),L=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"formatSettingKey",value:function(e){var t=e.split("_").join(" ");return t.charAt(0).toUpperCase()+t.substring(1)}},{key:"render",value:function(){var e=this;return u.a.createElement(u.a.Fragment,null,Object.entries({period:{last_week:"P7D",last_month:"P30D",last_quarter:"P90D",last_year:"P365D",last_five_years:"P1825D",last_ten_years:"P3650D"},freq:{day:"D",week:"W",month:"M",year:"Y"}}).map((function(t){var a=_(t,2),r=a[0],n=a[1];return u.a.createElement(u.a.Fragment,null,u.a.createElement(A,{className:"mr-3"},Object.entries(n).map((function(t){var a=_(t,2),n=a[0],i=a[1];return u.a.createElement(M.a,{key:n,color:e.props.query[r]===i?"info":"secondary",value:i,onClick:function(t){return e.props.handleChange(t.currentTarget.value,r)}},e.formatSettingKey(n))}))))})))}}]),a}(l.Component),x=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).handleChange=function(e,t){var a=Object(r.a)({},i.state.query);a[t]=e,i.setState({query:a})},i.handleDateChange=function(e,t){i.setState({query:Object(r.a)(Object(r.a)({},i.state.query),{},{start_date:e})})},i.state={isLoading:!0,query:{start_date:new Date("2019-01-02"),compare_years:"2019",period:"P30D",freq:"D"},data:null},i.handleChange=i.handleChange.bind(Object(c.a)(i)),i}return Object(i.a)(a,[{key:"getFlowData",value:function(){var e=this,t=this.props.match.params.site_id,a=Object(P.a)("/api/flow/"+t)+"?period="+this.state.query.period+"&freq="+this.state.query.freq+"&compare_years="+this.state.query.compare_years;fetch(a).then((function(e){return e.json()})).then((function(t){e.setState({isLoading:!1,data:t})}))}},{key:"componentDidMount",value:function(){this.getFlowData()}},{key:"componentDidUpdate",value:function(e,t){var a=e.match.params.site_id!==this.props.match.params.site_id,r=t.query!==this.state.query;(a||r)&&(this.setState({isLoading:!0}),this.getFlowData())}},{key:"render",value:function(){var e=null;try{var t=this.state.data.meta;e=t[Object.keys(t)[0]].siteName}catch(TypeError){e=null}return u.a.createElement(u.a.Fragment,null,u.a.createElement(p.a,null,u.a.createElement(d.a,{md:"12"},u.a.createElement(h.a,null,u.a.createElement(f.a,null,e&&u.a.createElement("h1",{className:"mb-0"},e)))),u.a.createElement(d.a,{md:"12"},u.a.createElement(h.a,null,u.a.createElement(m.a,null,u.a.createElement(D,{className:"h3 mb-0"},"Cubic feet per second (CFS)")),u.a.createElement(f.a,null,u.a.createElement(q.a,{isLoading:this.state.isLoading},!this.state.isLoading&&u.a.createElement(k.a,{data:this.state.data,height:300}))))),u.a.createElement(d.a,{md:"12"},u.a.createElement(h.a,{className:"text-center"},u.a.createElement(f.a,null,u.a.createElement(L,{handleChange:this.handleChange,query:this.state.query}))))))}}]),a}(l.Component);t.default=x}}]);
//# sourceMappingURL=6.0a826605.chunk.js.map